function initMap() {
    var e = [{
            featureType: "all",
            elementType: "geometry.fill",
            stylers: [{
                weight: "2.00"
            }]
        }, {
            featureType: "all",
            elementType: "geometry.stroke",
            stylers: [{
                color: "#9c9c9c"
            }]
        }, {
            featureType: "all",
            elementType: "labels.text",
            stylers: [{
                visibility: "on"
            }]
        }, {
            featureType: "administrative.locality",
            elementType: "labels.text.fill",
            stylers: [{
                color: "#de4540"
            }]
        }, {
            featureType: "administrative.locality",
            elementType: "labels.text.stroke",
            stylers: [{
                color: "#de4540"
            }, {
                visibility: "off"
            }]
        }, {
            featureType: "landscape",
            elementType: "all",
            stylers: [{
                color: "#f2f2f2"
            }]
        }, {
            featureType: "landscape",
            elementType: "geometry.fill",
            stylers: [{
                color: "#ffffff"
            }]
        }, {
            featureType: "landscape.man_made",
            elementType: "geometry.fill",
            stylers: [{
                color: "#ffffff"
            }]
        }, {
            featureType: "poi",
            elementType: "all",
            stylers: [{
                visibility: "off"
            }]
        }, {
            featureType: "road",
            elementType: "all",
            stylers: [{
                saturation: -100
            }, {
                lightness: 45
            }]
        }, {
            featureType: "road",
            elementType: "geometry.fill",
            stylers: [{
                color: "#eeeeee"
            }]
        }, {
            featureType: "road",
            elementType: "labels.text.fill",
            stylers: [{
                color: "#7b7b7b"
            }]
        }, {
            featureType: "road",
            elementType: "labels.text.stroke",
            stylers: [{
                color: "#ffffff"
            }]
        }, {
            featureType: "road.highway",
            elementType: "all",
            stylers: [{
                visibility: "simplified"
            }]
        }, {
            featureType: "road.arterial",
            elementType: "labels.icon",
            stylers: [{
                visibility: "off"
            }]
        }, {
            featureType: "transit",
            elementType: "all",
            stylers: [{
                visibility: "off"
            }]
        }, {
            featureType: "transit",
            elementType: "geometry",
            stylers: [{
                visibility: "on"
            }]
        }, {
            featureType: "transit",
            elementType: "labels",
            stylers: [{
                visibility: "on"
            }]
        }, {
            featureType: "transit.station",
            elementType: "labels.text.fill",
            stylers: [{
                color: "#646464"
            }]
        }, {
            featureType: "water",
            elementType: "all",
            stylers: [{
                color: "#46bcec"
            }, {
                visibility: "on"
            }]
        }, {
            featureType: "water",
            elementType: "geometry.fill",
            stylers: [{
                color: "#c8d7d4"
            }]
        }, {
            featureType: "water",
            elementType: "labels.text.fill",
            stylers: [{
                color: "#070707"
            }]
        }, {
            featureType: "water",
            elementType: "labels.text.stroke",
            stylers: [{
                color: "#ffffff"
            }]
        }],
        t = {
            lat: 50.43800,
            lng: 30.502259
        },
        markerPos = {
            lat: 50.43568,
            lng: 30.513159
        },
        o = new google.maps.Map(document.getElementById("map"), {
            zoom: 16,
            center: t,
            scrollwheel: !1,
            navigationControl: !0,
            mapTypeControl: !1,
            scaleControl: !0,
            draggable: !0,
            styles: e
        });
    new google.maps.Marker({
        position: markerPos,
        map: o,
        icon: "img/point.png",
        title: "Creative Web Agency FRESH"
    })
}

function scrollToDiv(e, t) {
    var o = $(e),
        s = o.offset().top;
    return t = t ? t : 0, t = s - o.height() * t / 100
}

function sec3Image() {
    $(".sec4").removeClass("shadow"), $(".sec3").hasClass("aos-animate") ? ($(".sec3").removeClass("withimage"), setTimeout(function() {
        $(".sec4").addClass("shadow")
    }, 200)) : setTimeout(function() {
        $(".sec3").addClass("withimage")
    }, 100)
}

function dots(e) {
    var t = $(".dots-right"),
        o = $(".dots-left");
    rotate += e, o.css("transform", "rotateZ(" + rotate + "deg)"), rotate2 = rotate * -1, t.css("transform", "rotateZ(" + rotate2 + "deg)")
}

function arrows() {
    var e = Snap("#arrows"),
        t = 400,
        o = 0;
    e.select(".line1").animate({
        "stroke-dashoffset": 0
    }, t, function() {
        e.select(".drawHead1").animate({
            "stroke-dashoffset": 0
        }, o)
    }), e.select(".line2").animate({
        "stroke-dashoffset": 0
    }, t, function() {
        e.select(".drawHead2").animate({
            "stroke-dashoffset": 0
        }, o)
    }), e.select(".line2").animate({
        "stroke-dashoffset": 0
    }, t, function() {
        e.select(".drawHead2").animate({
            "stroke-dashoffset": 0
        }, o)
    }), e.select(".line3").animate({
        "stroke-dashoffset": 0
    }, t, function() {
        e.select(".drawHead3").animate({
            "stroke-dashoffset": 0
        }, o)
    }), e.select(".line4").animate({
        "stroke-dashoffset": 0
    }, t, function() {
        e.select(".drawHead4").animate({
            "stroke-dashoffset": 0
        }, o)
    }), e.select(".line5").animate({
        "stroke-dashoffset": 0
    }, t, function() {
        e.select(".drawHead5").animate({
            "stroke-dashoffset": 0
        }, o, function() {
            arrowsDone = !0
        })
    })
}

$('header .to-top').click(function(event) {
    event.preventDefault(event);
    // $(".wrap-section").height($(window).height()).show();
    // $('.beforeSec4').show();
    // toTop();
    $(window).scrollTop(0);
    location.reload();
});
var sec4HSetted = false;
var canScroll = true;
function arrowsInBg(e) {
    if (canScroll){
        if (scroll = $(window).scrollTop(), startW = pW, startH = pH, maxW = $(window).width(), limit = maxW - startW, proc = limit / 100, $(".sec4").is(":visible") && !$(".afterBlock5").is(":visible")) {
            if (0 == $(window).scrollTop() && "down" != e ) {
            console.log('going up');
                if ("down" == e ? curr++ : curr--, curr > 4 ? curr = 4 : curr < 1 && (curr = 1), curr < 4 && (disableScroll(), toTop(), $(".sec4").removeClass("show"),  $(".afterSec4").hide(), $(".wrap-section").height($(window).height()), projectsRemove(), menu()), curr > 1 && curr < 4 || setTimeout(function() {
                        enableScroll();
                    }, 1000), curr < 2)
                    for ($("#pentagon").removeClass("show"), $(".decisions").removeClass("hidden"), i = 1; i < 11; i++) $(".sec3").removeClass("color" + i);
                    	
                        curr = 2;
                pentagon()
            }
        } else if ($(".sec3").is(":visible") && !$(".afterBlock5").is(":visible") && $(window).scrollTop() + $(window).height() >= $(document).height() - 50) {
     
            if ("down" == e ? curr++ : curr--, curr > 3 ? curr = 3 : curr < 1 && (curr = 1), curr > 1 && curr < 3 ? (disableScroll(), $(".sec4").removeClass("show")) :
                 setTimeout(function() {
                    enableScroll()
                }, 600), curr == 3 ? $('#pentagon .letter').css('fill','#fff') : $('#pentagon .letter').css('fill','#000'), 2 == curr ? $(".port").addClass("show") : 3 == curr && ($(".sec4").show(0,function(){if (!sec4HSetted) {sec4H = $('.sec4').height(); sec4HSetted = true}}), $(".afterSec4").show(), setTimeout(function() {
                    showBlock = !1, hideTop(), $(".sec4").addClass("show"), window.onresize(), curr = 4
                }, 1200), setTimeout(function() {
                    enableScroll()
                }, 1500), setTimeout(function() {
                    projects(), menu(), setTimeout(function(){sgroup.animate({transform: "t0 0 s1 r0"}, 0), console.log('zero')},900);
                }, 500), $(".wrap-section").height(sec4H), afterBlock3 = !1), curr < 2)
                for ($("#pentagon").removeClass("show"), $(".decisions").removeClass("hidden"), i = 1; i < 11; i++) $(".sec3").removeClass("color" + i);
                pentagon()
        }
    }
}

function projects() {
    $(".projects li").each(function(e) {
        $(this).css("transition-delay", .1 * e + "s"), $(this).addClass("aos-animate")
    })
}

function projectsRemove() {
    $(".projects li").each(function() {
        $(this).removeClass("aos-animate")
    })
}

function pentagon() {
    canScroll = false;
    setTimeout(function() {
        canScroll = true;
    }, 1000);
    if (curr > 0) {
        curr == 3 ? $('#pentagon .letter').css('fill','#fff') : $('#pentagon .letter').css('fill','#000'),
        curr > 1 ? ($("#pentagon").addClass("show"), $(".decisions").addClass("hidden"), $(".sec3").addClass("withoutImage"), e = 1) : ($(".beforeSec4").show(), $(".sec3header").show(), $("body").animate({
            scrollTop: $(".sec3").offset().top
        }, 0));
        var e = "scale(" + (1 + .9 * (curr - 1)) + ")";
        color = 1 - .2 * curr, $(".sec3").removeClass("color" + curr - 1), $(".sec3").addClass("color" + curr), curr == 3 ? setTimeout(function() {step()}, 300) : step()
    }
}
function step() {
    var stepExp;
    var animTime;
    Math.floor(10 * stepPoint) / 10 != curr && curr < 4 ? (stepPoint = stepPoint < curr ? Math.floor(10 * (stepPoint + .1)) / 10 : Math.floor(10 * (stepPoint - .1)) / 10,curr >2 ? stepExp = 2.5 : stepExp = 0 ,stepPoint>2 ? animTime = 200 : animTime = 0,sgroup.animate({
        transform: "t0 0 s" + (1 + .9 * (stepPoint+stepExp - 1)) + " r0"
    }, animTime), requestAnimationFrame(step)) : cancelAnimationFrame(step)
}

function toTop() {
    $(".sec3").show(), setTimeout(function() {
        $(".sec3").addClass("show")
    }, 100), $(".sec4").hide(), $(".afterSec4").hide(), $(".afterSec5").hide()
}

function hideTop() {
    $(".beforeSec4").hide(), $(".beforeSec5").hide(), $(".sec3header").hide(), $(".sec3").hide().removeClass("show")
}

function arrowsResize() {
    var e = centerBlock4 - prevArrowsOffset;
    currOffset = $("#arrows").offset().top - $("header").height(), currPosition = centerBlock4 - currOffset, currProc = 100 - 100 * currPosition / e, startW = wA, startH = hA, maxW = $(window).width(), limit = maxW - startW, proc = limit / 100, curr != Math.floor(currProc) ? ($("#arrows").css({
        width: startW + proc * curr,
        height: startH + proc * curr
    }), requestAnimationFrame(arrowsResize), curr < currProc ? curr++ : curr--, curr >= 90 && $("#arrows").css("opacity", .1 * (100 - curr))) : cancelAnimationFrame(arrowsResize)
}

function block5(e) {
    $(window).scrollTop();
    sec4Top = $(".sec4").offset().top + 250, sec4Bottom = $(".sec4").offset().top + $(".sec4").height(), sec5Top = parseInt($(".sec5").offset().top), sec5Bottom = $(".sec5").offset().top + $(".sec5").height(), sec6Top = parseInt($(".sec6").offset().top), $(".sec5").is(":visible") && $(window).scrollTop() > sec5Top - 300 && firstFlag && (firstFlag = !1), $(".sec5").is(":visible") && $(window).scrollTop() + $(window).height() >= $(document).height() && $(window).scrollTop() < $(".afterSec5").offset().top + 200 || $(".afterSec5").is(":visible") && 0 == $(window).scrollTop() ? (disableScroll(), scrollInsideFlag = !0) : scrollInsideFlag = !1, scrollInsideFlag && block5Inside(e)
}
var htmlHSetted = false;
var numHeightSetted = false;
function block5Inside(e) {
    if (!htmlHSetted){
        htmlHSetted = true;
        var h = $('.blocks_wrap .showInside').outerHeight() - $('.blocks_wrap .block3 .technologies').outerHeight() - $('.blocks_wrap .block3 .wrap-title').outerHeight()-$('.blocks_wrap .block3 .technologies').css('margin-top').slice(0,-2);
        // $('.blocks_wrap .block3 .basic').css('height', h);
    }
    if (!numHeightSetted){
        numHeightSetted = true;
        var h = $('.blocks_wrap .showInside').outerHeight() - $('.blocks_wrap .showInside .wrap-title').outerHeight();
        // $('.blocks_wrap .block4 .fresh-numbers').css('height', h);
    }
    
    block5InsideFlag && (block5InsideFlag = !1, "down" == e && currBlock < $(".blocks_wrap>div").length-1 ? (currBlock++, currBlock >= $(".blocks_wrap>div").length - 1 && (currBlock = $(".blocks_wrap>div").length - 1), $(".blocks_wrap >div")
              .eq(prevBlock)
              .addClass("navOut"),
              setTimeout(function() {
              $(".blocks_wrap >div")
                .eq(prevBlock)
                .removeClass(
                  "navOut"
                );
            }, 500)) : "up" == e && (currBlock--, currBlock < 0 && (currBlock = 0)), prevBlock != currBlock ? ($(".sec5 .hidden_block").removeClass("showInside").removeClass("aos-animate"), $(".blocks_wrap >div").eq(prevBlock).removeClass("showInside").removeClass("aos-animate"),$(".blocks_wrap >div").eq(currBlock).addClass("showInside"), setTimeout(function() { prevBlock = currBlock, block5InsideFlag = !0, $(".blocks_wrap >div").eq(currBlock).addClass("aos-animate").removeClass('zoomIn'),currBlock > 0 ? $(".blocks_wrap >div").eq(currBlock-1).addClass('zoomIn') : console.log();
    }, 500)) : (enableScroll(), currBlock == $(".blocks_wrap>div").length - 1 ? ($(".afterSec5").show(), $(".numbers").slick("unslick"), $(".numbers").slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        dots: !1,
        infinite: !0,
        arrows: !0,
        fade: !0,
        autoplay: !0,
        autoplaySpeed: 5e3,
        pauseOnFocus: !1
    }), numbersNav(), $(".wrap-section").hide(), setTimeout(function() {
        afterblock5Flag = !0
    }, 200), lastBlockFlag && (sec6Top = parseInt($(".sec6").offset().top), $("body").stop().animate({
        scrollTop: sec6Top
    }, 500, function() {
        scrollInsideFlag = !1, lastBlockFlag = !1, toBlock5 = !0, $(".afterSec4").hide()
    }))) : 0 == currBlock && ($(".wrap-section").show(), $("body").animate({
        scrollTop: $(".afterSec4").offset().top
    }, 0), $(".afterSec5").hide()), setTimeout(function() {
        prevBlock = currBlock, block5InsideFlag = !0
    }, 500)))
}

function brands() {
    for (i = 0; i < $(".brands .brand").length; i++) $(".brands .brand").eq(i).css("transition-delay", .05 * i + "s")
}

function brandsRemove() {
    for (i = 0; i < $(".brands .brand").length; i++) $(".brands .brand").eq(i).css("transition-delay", "")
}

function preventDefault(e) {
    e = e || window.event, e.preventDefault && e.preventDefault(), e.returnValue = !1
}

function preventDefaultForScrollKeys(e) {
    if (keys[e.keyCode]) return preventDefault(e), !1
}

function disableScroll() {
    window.addEventListener && window.addEventListener("DOMMouseScroll", preventDefault, !1), window.onwheel = preventDefault, window.onmousewheel = document.onmousewheel = preventDefault, window.ontouchmove = preventDefault, document.onkeydown = preventDefaultForScrollKeys
}

function enableScroll() {
    window.removeEventListener && window.removeEventListener("DOMMouseScroll", preventDefault, !1), window.onmousewheel = document.onmousewheel = null, window.onwheel = null, window.ontouchmove = null, document.onkeydown = null
}

function menu() {
    porfolio = scrollToDiv(".sec4", 10), porfolioEnd = scrollToDiv(".sec4", -90), clients = scrollToDiv(".sec5", 10), clientsEnd = scrollToDiv(".sec5", -90), prices = scrollToDiv(".sec8", 10), pricesEnd = scrollToDiv(".sec8", -90), aboutus = scrollToDiv(".sec6", 10), aboutusEnd = scrollToDiv(".sec6", -90), contacts = scrollToDiv(".sec13", 10), contactsEnd = scrollToDiv(".sec13", -90);
    var e = $(window).scrollTop();
    e > porfolio && e < porfolioEnd && $(".sec4").is(":visible") ? ($("header li").removeClass("active"), $("header li").eq(0).addClass("active")) : (e < porfolio || e > porfolioEnd) && $("header li").eq(0).removeClass("active"), e > clients && e < clientsEnd && $(".sec5 .block2").hasClass("showInside") && $(".sec5").is(":visible") ? ($("header li").removeClass("active"), $("header li").eq(1).addClass("active")) : $(".sec5 .block2").hasClass("showInside") || $("header li").eq(1).removeClass("active"), e > prices && e < pricesEnd && $(".sec8").is(":visible") ? ($("header li").removeClass("active"), $("header li").eq(2).addClass("active")) : (e < prices || e > pricesEnd) && $("header li").eq(2).removeClass("active"), e > aboutus && e < aboutusEnd && $(".sec6").is(":visible") ? ($("header li").removeClass("active"), $("header li").eq(3).addClass("active")) : (e < aboutus || e > aboutusEnd) && $("header li").eq(3).removeClass("active"), e > contacts && e < contactsEnd && $(".sec13").is(":visible") ? ($("header li").removeClass("active"), $("header li").eq(4).addClass("active")) : (e < contacts || e > contactsEnd) && $("header li").eq(4).removeClass("active")
}

function timelineHover() {
    $(".timeline_table.animated td:nth-child(1)").on("mouseover", function() {
        $(this).addClass("active"), $(this).parent().find(".line").addClass("delayZero active")
    }).on("mouseout", function() {
        $(this).removeClass("active"), $(this).parent().find(".line").removeClass("active")
    })
}